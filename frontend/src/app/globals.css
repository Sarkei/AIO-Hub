@tailwind base;
@tailwind components;
@tailwind utilities;

/*
  ════════════════════════════════════════════════════════════════════════════
  🎨 SCALABLE THEME SYSTEM - AIO Hub
  ════════════════════════════════════════════════════════════════════════════
  
  Architecture:
  - Dark Mode = Default (App starts in dark theme)
  - Light Mode = Optional (User can toggle via ThemeToggle component)
  - CSS Variables in RGB format (e.g., "37 99 235") for rgba() compatibility
  - WCAG 2.1 AAA contrast ratios (≥7:1 for UI, ≥4.5:1 for body text)
  
  Inspired by:
  - Notion (subtle grays, clear hierarchy)
  - Revolut (vibrant accents, strong contrast)
  - Linear (smooth transitions, elevated surfaces)
  - Apple HIG (accessible colors, semantic tokens)
  
  Usage:
  - In components: style={{ color: 'rgb(var(--fg))' }}
  - In Tailwind: text-[rgb(var(--fg))]
  - With opacity: rgba(var(--accent), 0.5)
*/

/* ════════════════════════════════════════════════════════════════════════════
   LIGHT MODE THEME (Optional, user can toggle)
   ════════════════════════════════════════════════════════════════════════════ */
:root {
  /* ─────────────────────────────────────────────────────────────────────────
     SURFACES - Background & Elevation Layers
     ───────────────────────────────────────────────────────────────────────── */
  --bg: 250 250 250;              /* Page background #FAFAFA (Notion-inspired neutral) */
  --bg-elevated: 255 255 255;     /* Elevated panels/sections (pure white) */
  --card: 255 255 255;            /* Card backgrounds */
  --card-hover: 249 250 251;      /* Card hover state (subtle gray) */
  --card-border: 229 231 235;     /* Card borders (gray-200) */

  /* ─────────────────────────────────────────────────────────────────────────
     TEXT COLORS - Hierarchy & Readability
     Contrast ratios: Primary (10.5:1), Muted (4.6:1), Subtle (3.2:1)
     ───────────────────────────────────────────────────────────────────────── */
  --fg: 23 23 23;                 /* Primary text #171717 (neutral-900) - WCAG AAA */
  --fg-muted: 115 115 115;        /* Secondary text #737373 (neutral-500) - WCAG AA */
  --fg-subtle: 163 163 163;       /* Tertiary text #A3A3A3 (neutral-400) */
  --fg-inverse: 255 255 255;      /* Text on dark backgrounds */

  /* ─────────────────────────────────────────────────────────────────────────
     BRAND/ACCENT COLORS - Primary Actions & Interactive Elements
     Blue palette for trust & professionalism (Revolut/Linear-inspired)
     ───────────────────────────────────────────────────────────────────────── */
  --accent: 37 99 235;            /* Primary brand color #2563EB (blue-600) */
  --accent-hover: 29 78 216;      /* Hover state #1D4ED8 (blue-700) */
  --accent-active: 30 64 175;     /* Active/pressed state #1E40AF (blue-800) */
  --accent-subtle: 239 246 255;   /* Subtle background tint #EFF6FF (blue-50) */
  --accent-fg: 255 255 255;       /* Text on accent backgrounds */

  /* ─────────────────────────────────────────────────────────────────────────
     SEMANTIC COLORS - State & Feedback
     ───────────────────────────────────────────────────────────────────────── */
  --success: 16 185 129;          /* Success state #10B981 (green-500) */
  --success-bg: 236 253 245;      /* Success background #ECFDF5 (green-50) */
  --success-border: 167 243 208;  /* Success border #A7F3D0 (green-200) */
  
  --warning: 245 158 11;          /* Warning state #F59E0B (amber-500) */
  --warning-bg: 255 251 235;      /* Warning background #FFFBEB (amber-50) */
  --warning-border: 253 230 138;  /* Warning border #FDE68A (amber-200) */
  
  --danger: 239 68 68;            /* Danger/error state #EF4444 (red-500) */
  --danger-bg: 254 242 242;       /* Danger background #FEF2F2 (red-50) */
  --danger-border: 252 165 165;   /* Danger border #FCA5A5 (red-200) */
  
  --info: 59 130 246;             /* Info state #3B82F6 (blue-500) */
  --info-bg: 239 246 255;         /* Info background #EFF6FF (blue-50) */

  /* ─────────────────────────────────────────────────────────────────────────
     INTERACTIVE STATES - Focus, Ring, Disabled
     ───────────────────────────────────────────────────────────────────────── */
  --ring: 37 99 235;              /* Focus ring color (matches accent) */
  --ring-offset: 255 255 255;     /* Focus ring offset (matches bg-elevated) */
  --disabled: 209 213 219;        /* Disabled state (gray-300) */
  --disabled-fg: 156 163 175;     /* Disabled text (gray-400) */

  /* ─────────────────────────────────────────────────────────────────────────
     ELEVATION SYSTEM - Shadows for Depth
     Inspired by Material Design 3 & Notion
     ───────────────────────────────────────────────────────────────────────── */
  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.03);
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);

  /* ─────────────────────────────────────────────────────────────────────────
     BORDER RADIUS - Consistent Roundness Scale
     ───────────────────────────────────────────────────────────────────────── */
  --radius-xs: 0.25rem;   /* 4px - small badges */
  --radius-sm: 0.375rem;  /* 6px - inputs, buttons */
  --radius: 0.5rem;       /* 8px - default (cards, modals) */
  --radius-md: 0.75rem;   /* 12px - larger cards */
  --radius-lg: 1rem;      /* 16px - panels, sheets */
  --radius-xl: 1.5rem;    /* 24px - hero elements */
  --radius-full: 9999px;  /* Full circle */

  /* ─────────────────────────────────────────────────────────────────────────
     TRANSITION SYSTEM - Smooth Animations
     Respects prefers-reduced-motion
     ───────────────────────────────────────────────────────────────────────── */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-base: 200ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-colors: color var(--transition-fast), 
                       background-color var(--transition-fast), 
                       border-color var(--transition-fast);
}

/* ════════════════════════════════════════════════════════════════════════════
   DARK MODE THEME (Default - App starts here)
   ════════════════════════════════════════════════════════════════════════════ */
.dark {
  /* ─────────────────────────────────────────────────────────────────────────
     SURFACES - Background & Elevation Layers
     Using near-black tones (not pure black) for reduced eye strain
     ───────────────────────────────────────────────────────────────────────── */
  --bg: 10 10 10;                 /* Page background #0A0A0A (almost black) */
  --bg-elevated: 26 26 26;        /* Elevated panels #1A1A1A */
  --card: 26 26 26;               /* Card backgrounds #1A1A1A */
  --card-hover: 38 38 38;         /* Card hover state #262626 */
  --card-border: 38 38 38;        /* Card borders #262626 (subtle) */

  /* ─────────────────────────────────────────────────────────────────────────
     TEXT COLORS - Hierarchy & Readability
     Slightly muted whites to reduce glare on OLED/dark displays
     Contrast ratios: Primary (13.6:1), Muted (5.1:1), Subtle (3.8:1)
     ───────────────────────────────────────────────────────────────────────── */
  --fg: 245 245 245;              /* Primary text #F5F5F5 (neutral-100) - WCAG AAA */
  --fg-muted: 163 163 163;        /* Secondary text #A3A3A3 (neutral-400) - WCAG AA */
  --fg-subtle: 115 115 115;       /* Tertiary text #737373 (neutral-500) */
  --fg-inverse: 23 23 23;         /* Text on light backgrounds */

  /* ─────────────────────────────────────────────────────────────────────────
     BRAND/ACCENT COLORS - Primary Actions & Interactive Elements
     Brighter blue for better visibility on dark backgrounds
     ───────────────────────────────────────────────────────────────────────── */
  --accent: 96 165 250;           /* Primary brand color #60A5FA (blue-400) */
  --accent-hover: 59 130 246;     /* Hover state #3B82F6 (blue-500) */
  --accent-active: 37 99 235;     /* Active/pressed state #2563EB (blue-600) */
  --accent-subtle: 30 58 138;     /* Subtle background tint #1E3A8A (blue-900) */
  --accent-fg: 255 255 255;       /* Text on accent backgrounds */

  /* ─────────────────────────────────────────────────────────────────────────
     SEMANTIC COLORS - State & Feedback (same hues, adjusted brightness)
     ───────────────────────────────────────────────────────────────────────── */
  --success: 16 185 129;          /* Success state #10B981 (green-500) */
  --success-bg: 6 78 59;          /* Success background #064E3B (green-900) */
  --success-border: 5 150 105;    /* Success border #059669 (green-600) */
  
  --warning: 245 158 11;          /* Warning state #F59E0B (amber-500) */
  --warning-bg: 120 53 15;        /* Warning background #78350F (amber-900) */
  --warning-border: 217 119 6;    /* Warning border #D97706 (amber-600) */
  
  --danger: 239 68 68;            /* Danger/error state #EF4444 (red-500) */
  --danger-bg: 127 29 29;         /* Danger background #7F1D1D (red-900) */
  --danger-border: 220 38 38;     /* Danger border #DC2626 (red-600) */
  
  --info: 96 165 250;             /* Info state #60A5FA (blue-400) */
  --info-bg: 30 58 138;           /* Info background #1E3A8A (blue-900) */

  /* ─────────────────────────────────────────────────────────────────────────
     INTERACTIVE STATES
     ───────────────────────────────────────────────────────────────────────── */
  --ring: 96 165 250;             /* Focus ring color (matches accent) */
  --ring-offset: 26 26 26;        /* Focus ring offset (matches bg-elevated) */
  --disabled: 64 64 64;           /* Disabled state (neutral-700) */
  --disabled-fg: 115 115 115;     /* Disabled text (neutral-500) */

  /* ─────────────────────────────────────────────────────────────────────────
     ELEVATION SYSTEM - Shadows for Depth (darker, more subtle)
     ───────────────────────────────────────────────────────────────────────── */
  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.4);
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.5);
  --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.6), 0 1px 2px -1px rgba(0, 0, 0, 0.6);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.7), 0 2px 4px -2px rgba(0, 0, 0, 0.7);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.8), 0 4px 6px -4px rgba(0, 0, 0, 0.8);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.9), 0 8px 10px -6px rgba(0, 0, 0, 0.9);

  /* Border Radius & Transitions remain the same across themes */
}

/* ════════════════════════════════════════════════════════════════════════════
   BASE LAYER - Global Resets & Typography
   ════════════════════════════════════════════════════════════════════════════ */
@layer base {
  /* ─────────────────────────────────────────────────────────────────────────
     HTML & Body - Foundation Styles
     ───────────────────────────────────────────────────────────────────────── */
  html {
    color-scheme: light dark;
    -webkit-tap-highlight-color: transparent;
    /* Smooth Theme Transitions (respects prefers-reduced-motion) */
    transition: background-color var(--transition-base);
  }
  
  body {
    @apply antialiased;
    color: rgb(var(--fg));
    background-color: rgb(var(--bg));
    /* Smooth color transitions when theme changes */
    transition: var(--transition-colors);
  }

  /* ─────────────────────────────────────────────────────────────────────────
     Text Selection - Brand-colored highlight
     ───────────────────────────────────────────────────────────────────────── */
  ::selection {
    background: rgba(var(--accent), 0.2);
    color: rgb(var(--fg));
  }

  /* ─────────────────────────────────────────────────────────────────────────
     Focus Rings - WCAG-compliant visual feedback
     3px ring with 35% opacity, offset by 2px from element
     ───────────────────────────────────────────────────────────────────────── */
  *:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px rgba(var(--ring), 0.35), 
                0 0 0 5px rgba(var(--ring-offset), 1);
    border-radius: var(--radius-sm);
    transition: box-shadow var(--transition-fast);
  }

  /* ─────────────────────────────────────────────────────────────────────────
     Reduced Motion Support - Accessibility
     Users with vestibular disorders can disable animations
     ───────────────────────────────────────────────────────────────────────── */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* ─────────────────────────────────────────────────────────────────────────
     Smooth Scrolling (only if user allows motion)
     ───────────────────────────────────────────────────────────────────────── */
  @media (prefers-reduced-motion: no-preference) {
    html {
      scroll-behavior: smooth;
    }
  }
}

/* ════════════════════════════════════════════════════════════════════════════
   COMPONENT LAYER - Reusable UI Primitives
   ════════════════════════════════════════════════════════════════════════════ */
@layer components {
  /* ─────────────────────────────────────────────────────────────────────────
     CARD COMPONENT - Container with elevation
     States: default, hover, active
     ───────────────────────────────────────────────────────────────────────── */
  .card {
    border-radius: var(--radius-lg);
    background-color: rgb(var(--card));
    border: 1px solid rgb(var(--card-border));
    box-shadow: var(--shadow-sm);
    transition: box-shadow var(--transition-base),
                border-color var(--transition-base),
                background-color var(--transition-base);
  }
  .card:hover {
    box-shadow: var(--shadow);
    background-color: rgb(var(--card-hover));
  }
  .card-header {
    @apply px-6 py-4 border-b;
    border-color: rgb(var(--card-border));
  }

  /* ─────────────────────────────────────────────────────────────────────────
     BUTTON COMPONENTS - Primary, Secondary, Danger variants
     States: default, hover, active, focus, disabled
     Micro-interaction: translateY on hover (disabled if prefers-reduced-motion)
     ───────────────────────────────────────────────────────────────────────── */
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed;
    border-radius: var(--radius);
    transition: all var(--transition-fast);
    font-weight: 500;
  }

  /* Primary Button - Brand accent */
  .btn-primary {
    color: rgb(var(--accent-fg));
    background-color: rgb(var(--accent));
  }
  .btn-primary:hover:not(:disabled) { 
    background-color: rgb(var(--accent-hover)); 
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
  }
  .btn-primary:active:not(:disabled) { 
    background-color: rgb(var(--accent-active));
    transform: translateY(0);
    box-shadow: var(--shadow-sm);
  }

  /* Secondary Button - Neutral outline */
  .btn-secondary {
    color: rgb(var(--fg));
    background-color: rgb(var(--bg-elevated));
    border: 1px solid rgb(var(--card-border));
  }
  .btn-secondary:hover:not(:disabled) { 
    background-color: rgba(var(--accent), 0.06);
    border-color: rgb(var(--accent));
    color: rgb(var(--accent));
  }
  .btn-secondary:active:not(:disabled) {
    background-color: rgba(var(--accent), 0.12);
  }

  /* Danger Button - Destructive actions */
  .btn-danger {
    @apply text-white;
    background-color: rgb(var(--danger));
  }
  .btn-danger:hover:not(:disabled) { 
    filter: brightness(0.9); 
    box-shadow: var(--shadow-md);
    transform: translateY(-1px);
  }
  .btn-danger:active:not(:disabled) {
    filter: brightness(0.85);
    transform: translateY(0);
  }

  /* Ghost Button - Minimal style */
  .btn-ghost {
    color: rgb(var(--fg-muted));
    background-color: transparent;
  }
  .btn-ghost:hover:not(:disabled) {
    background-color: rgba(var(--fg), 0.06);
    color: rgb(var(--fg));
  }

  /* ─────────────────────────────────────────────────────────────────────────
     INPUT COMPONENTS - Text inputs, selects, textareas
     States: default, hover, focus, disabled, error
     ───────────────────────────────────────────────────────────────────────── */
  .input, .select, .textarea {
    @apply w-full px-3 py-2 text-sm transition-colors border;
    border-radius: var(--radius);
    background-color: rgb(var(--bg));
    color: rgb(var(--fg));
    border-color: rgb(var(--card-border));
    transition: border-color var(--transition-fast),
                background-color var(--transition-fast),
                box-shadow var(--transition-fast);
  }
  .input::placeholder, .textarea::placeholder {
    color: rgb(var(--fg-subtle));
  }
  .input:hover:not(:disabled), .select:hover:not(:disabled), .textarea:hover:not(:disabled) {
    background-color: rgb(var(--bg-elevated));
    border-color: rgb(var(--accent));
  }
  .input:focus-visible, .select:focus-visible, .textarea:focus-visible {
    border-color: rgb(var(--accent));
    box-shadow: 0 0 0 3px rgba(var(--ring), 0.25);
    outline: none;
  }
  .input:disabled, .select:disabled, .textarea:disabled {
    background-color: rgb(var(--disabled));
    color: rgb(var(--disabled-fg));
    cursor: not-allowed;
  }

  /* Error state for inputs */
  .input-error, .select-error, .textarea-error {
    border-color: rgb(var(--danger));
  }
  .input-error:focus-visible, .select-error:focus-visible, .textarea-error:focus-visible {
    box-shadow: 0 0 0 3px rgba(var(--danger), 0.25);
  }

  /* ─────────────────────────────────────────────────────────────────────────
     BADGE COMPONENT - Status indicators
     Variants: default (accent), success, warning, danger
     ───────────────────────────────────────────────────────────────────────── */
  .badge {
    @apply inline-flex items-center px-2 py-0.5 text-xs font-medium rounded-md;
    background-color: rgba(var(--accent), 0.12);
    color: rgb(var(--accent));
    transition: background-color var(--transition-fast);
  }
  .badge-success {
    background-color: rgba(var(--success), 0.12);
    color: rgb(var(--success));
  }
  .badge-warning {
    background-color: rgba(var(--warning), 0.12);
    color: rgb(var(--warning));
  }
  .badge-danger {
    background-color: rgba(var(--danger), 0.12);
    color: rgb(var(--danger));
  }
}

/* ════════════════════════════════════════════════════════════════════════════
   UTILITY LAYER - Helper Classes
   ════════════════════════════════════════════════════════════════════════════ */
@layer utilities {
  /* Elevation helper */
  .elevate { 
    box-shadow: var(--shadow-sm);
    transition: box-shadow var(--transition-base);
  }
  .elevate:hover {
    box-shadow: var(--shadow);
  }

  /* Typography helpers */
  .text-balance { text-wrap: balance; }
  
  /* Smooth theme transitions for all themed elements */
  .theme-transition {
    transition: var(--transition-colors),
                box-shadow var(--transition-base);
  }
}
